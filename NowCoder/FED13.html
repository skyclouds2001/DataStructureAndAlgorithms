<!DOCTYPE html>
<html>

<head>
  <meta charset=utf-8>
</head>

<body>

  <script type="text/javascript">
    const _new = function (fun, ...args) {
      if (typeof fun !== "function") {
        throw new TypeError(`${fun} is not a constructor`)
      }
      if (fun.prototype == null) {
        throw new TypeError(`${fun.name} is not a constructor`)
      }

      const obj = {}
      obj.__proto__ = fun.prototype
      obj.__proto__.constructor = fun
      obj.constructor = fun
      fun.apply(obj, args)

      return obj
    }
  </script>
</body>

</html>
